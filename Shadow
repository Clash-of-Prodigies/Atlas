FROM python:3.10-slim

WORKDIR /shadow

RUN apt-get update && apt-get install -y \  
    build-essential \ 
    libssl-dev \ 
    libffi-dev \ 
    libpq-dev \  
    wget \ 
    git \  
    && apt-get clean \  
    && rm -rf /var/lib/apt/lists/*

RUN git clone https://github.com/Clash-of-Prodigies/Shadow.git /shadow
RUN pip install --upgrade pip && pip install --no-cache-dir -r requirements.txt

EXPOSE 5000

CMD ["python", "shadow.py"]